var table;var rows;var chklItems;var chklAllSelect;function BindListTable(){rows=$("table.listTable").find("tr");rows=rows.slice(1,rows.length-1);for(var A=0;A<rows.length;A+=2){if(rows[A].className==""){rows[A].className="Alternating"}}rows.hover(function(){$(this).addClass("Hover")},function(){$(this).removeClass("Hover")})}function BindListCheckbox(){chklItems=rows.find(":checkbox");chklAllSelect=$("table.listTable").find(":checkbox[name='chklAllSelect']");if(chklItems.length>0){rows.click(function(B){var A=$(this).find(":checkbox");var C=A.attr("checked");if(B.target.tagName.toLowerCase()!="input"){C=!C;A.attr("checked",C)}$(this).toggleClass("Choose",C);chklAllSelect.attr("checked",IsChklItemsAllSelected())})}chklAllSelect.click(function(){SetChklItems($(this).attr("checked"))});$("#lnkAllSelect").click(function(){SetChklItems(!IsChklItemsAllSelected())});$("#lnkInverseSelect").click(function(){$.each(chklItems,function(){var A=$(this).attr("checked");$(this).parent().parent().toggleClass("Choose",!A);$(this).attr("checked",!A)});chklAllSelect.attr("checked",IsChklItemsAllSelected())})}function SetChklItems(A){chklAllSelect.attr("checked",A);chklItems.attr("checked",A);rows.toggleClass("Choose",A)}function IsChklItemsAllSelected(){return chklItems.length==GetSelectedCount()}function GetSelectedCount(){var A=0;$.each(chklItems,function(){if($(this).attr("checked")){A++}});return A}function GetSelectedIds(){var A="";$.each(chklItems,function(){if($(this).attr("checked")){A+=","+$(this).val()}});if(A!=""){A=A.substr(1)}return A}function BindTooltip(){$("em:.tip").tooltip({position:["center","right"],onBeforeShow:function(B,A){if(this.getTip().width()+A.left+100>$(document).width()){this.getConf()["position"]=["center","left"]}},onHide:function(B,A){this.getConf()["position"]=["center","right"]}})}function BindTabs(){$("table.tabTable").tabs("div#panes > table.editTable")}function BindImageView(){$("a.imageView").tooltip({position:["bottom","center"],offset:[-2,1],tipClass:"imageTip",events:{def:"mouseover, mouseout",tooltip:"mouseover, mouseout"}})}function BindPic(){$("a.imageView").hover(function(){if($(this).data("src")!=""){var A=$(this).find("span");if(A.length<1){$(this).append("<span><img src='"+$(this).data("src")+"' width='100' /></span>");A=$(this).find("span")}A.show()}},function(){$(this).find("span").hide()})}function DeleteConfirm(A){if(!A){A=T("确认删除此记录")}return confirm(A)}function DeleteSome(C){if(!C){C=T("确认删除选中的记录")}if(chklItems.length<1){return}var B=GetSelectedIds();if(B==""){alert(T("没有选择要删除的记录"));return}if(confirm(C)){var A=$("#hlkList").attr("href");window.location=A+"&task=Delete&ids="+B}}function Clear(B){if(!B){B=T("确认清空记录")}if(confirm(B)){var A=$("#hlkList").attr("href");window.location=A+"&task=Clear"}}function DisableInputSubmit(A,B){A.keydown(function(C){if(C.keyCode==13){B.click();return false}})}function BindValidator(A,B){A.validate({rules:B})}function BindCheckBoxListValidator(A,B){A.click(function(){B.val("");B.keyup()})}function BindDateInput(C){var A=C||"input.date";var B=$(A);B.dateinput({selectors:true,trigger:true,lang:"cn",format:"yyyy-mm-dd",max:"2079-1-1",min:"1900-1-1",onBeforeShow:function(){var D=ParseDate(B.val());if(!D||isNaN(D)){D=new Date()}this.setValue(D)}})}function ParseDate(B){var C=B.replace("/","-");C=C.split("-");if(C.length!=3){return NaN}var A=new Date(C[0],C[1]-1,C[2]);if(!A||isNaN(A)){return NaN}return A}$.validator.methods["date"]=function(A,B){return $.validator.methods.dateISO.apply(this,arguments)};function GetPageHeight(){if($.browser.msie){return document.compatMode=="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight}else{return self.innerHeight}}function GetPageWidth(){if($.browser.msie){return document.compatMode=="CSS1Compat"?document.documentElement.clientWidth:document.body.clientWidth}else{return self.innerWidth}};