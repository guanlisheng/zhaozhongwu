(function(){var A=function(E){var D={str:["a","b","c","d","e","f","g","h","i","j","k","l","m","o","p","q","r","s","t","x","u","v","y","z","w","n","0","1","2","3","4","5","6","7","8","9"],randint:function(F,G){var I=G-F+1;var H=Math.random()*I+F;return Math.floor(H)},randStr:function(){var F=this;var H=F.str.length-1;var G=F.randint(0,H);return F.str[G]},create:function(J){var F=this;var I=J||10;var H="";for(var G=0;G<I;G++){H+=F.randStr()}return H}};E=E?E:10;return D.create(E)};var B=function(D,E){var G=E-D+1;var F=Math.random()*G+D;return Math.floor(F)};var C=function(D,E){this.codeDoms=[];this.lineDoms=[];this.initOptions(E);this.dom=D;this.init();this.addEvent();this.update();this.mask()};C.prototype.init=function(){this.dom.style.position="relative";this.dom.style.overflow="hidden";this.dom.style.cursor="pointer";this.dom.title="点击更换验证码";this.dom.style.background=this.options.bgColor;this.w=this.dom.clientWidth;this.h=this.dom.clientHeight;this.uW=this.w/this.options.len};C.prototype.mask=function(){var D=document.createElement("div");D.style.cssText=["width: 100%","height: 100%","left: 0","top: 0","position: absolute","cursor: pointer","z-index: 9999999"].join(";");D.title="点击更换验证码";this.dom.appendChild(D)};C.prototype.addEvent=function(){var D=this;D.dom.addEventListener("click",function(){D.update.call(D)})};C.prototype.initOptions=function(D){var E=function(){this.len=4;this.fontSizeMin=20;this.fontSizeMax=48;this.colors=["green","red","blue","#53da33","#AA0000","#FFBB00"];this.bgColor="#FFF";this.fonts=["Times New Roman","Georgia","Serif","sans-serif","arial","tahoma","Hiragino Sans GB"];this.lines=8;this.lineColors=["#888888","#FF7744","#888800","#008888"];this.lineHeightMin=1;this.lineHeightMax=3;this.lineWidthMin=1;this.lineWidthMax=60};this.options=new E();if(typeof D==="object"){for(i in D){this.options[i]=D[i]}}};C.prototype.update=function(){for(var D=0;D<this.codeDoms.length;D++){this.dom.removeChild(this.codeDoms[D])}for(var D=0;D<this.lineDoms.length;D++){this.dom.removeChild(this.lineDoms[D])}this.createCode();this.draw()};C.prototype.createCode=function(){this.code=A(this.options.len)};C.prototype.verify=function(D){return this.code===D};C.prototype.draw=function(){this.codeDoms=[];for(var D=0;D<this.code.length;D++){this.codeDoms.push(this.drawCode(this.code[D],D))}this.drawLines()};C.prototype.drawCode=function(E,F){var D=document.createElement("span");D.style.cssText=["font-size:"+B(this.options.fontSizeMin,this.options.fontSizeMax)+"px","color:"+this.options.colors[B(0,this.options.colors.length-1)],"position: absolute","left:"+B(this.uW*F,this.uW*F+this.uW-20)+"px","top:"+B(0,this.h-72)+"px","transform:rotate("+B(-30,30)+"deg)","-ms-transform:rotate("+B(-30,30)+"deg)","-moz-transform:rotate("+B(-30,30)+"deg)","-webkit-transform:rotate("+B(-30,30)+"deg)","-o-transform:rotate("+B(-30,30)+"deg)","font-family:"+this.options.fonts[B(0,this.options.fonts.length-1)],"font-weight:"+B(400,900)].join(";");D.innerHTML=E;this.dom.appendChild(D);return D};C.prototype.drawLines=function(){this.lineDoms=[];for(var E=0;E<this.options.lines;E++){var D=document.createElement("div");D.style.cssText=["position: absolute","opacity: "+B(3,8)/10,"width:"+B(this.options.lineWidthMin,this.options.lineWidthMax)+"px","height:"+B(this.options.lineHeightMin,this.options.lineHeightMax)+"px","background: "+this.options.lineColors[B(0,this.options.lineColors.length-1)],"left:"+B(0,this.w-20)+"px","top:"+B(0,this.h)+"px","transform:rotate("+B(-30,30)+"deg)","-ms-transform:rotate("+B(-30,30)+"deg)","-moz-transform:rotate("+B(-30,30)+"deg)","-webkit-transform:rotate("+B(-30,30)+"deg)","-o-transform:rotate("+B(-30,30)+"deg)","font-family:"+this.options.fonts[B(0,this.options.fonts.length-1)],"font-weight:"+B(400,900)].join(";");this.dom.appendChild(D);this.lineDoms.push(D)}};this.vCode=C}).call(this);